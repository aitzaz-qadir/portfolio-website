/* Animation keyframes and related styles */

@keyframes bounceUpDown {
  0%,
  100% {
    transform: translateY(0);
  }
  50% {
    transform: translateY(5px);
  }
}

.animate-bounce-up-down {
  animation: bounceUpDown 1.2s ease-in-out infinite;
  will-change: transform;
}

@keyframes slideInFromRight {
  0% {
    opacity: 0;
    transform: translate3d(100px, 0, 0);
  }
  100% {
    opacity: 1;
    transform: translate3d(0, 0, 0);
  }
}

.animate-slide-in-right {
  animation: slideInFromRight 0.8s ease-out forwards;
}

.experience-card {
  opacity: 0;
  transform: translate3d(100px, 0, 0);
  will-change: transform, opacity;
}

.experience-card.animate {
  animation: slideInFromRight 0.8s ease-out forwards;
}

/* Starfield Background Animations */
@keyframes twinkle {
  0%,
  100% {
    opacity: var(--star-opacity);
    transform: scale(1);
    filter: brightness(1);
  }
  50% {
    opacity: 1;
    transform: scale(1.4);
    filter: brightness(1.8);
  }
}

@keyframes float {
  0%,
  100% {
    transform: translate3d(0, 0, 0);
  }
  25% {
    transform: translate3d(8px, -12px, 0);
  }
  50% {
    transform: translate3d(-6px, -20px, 0);
  }
  75% {
    transform: translate3d(-10px, -8px, 0);
  }
}

/* Comet Animations */
@keyframes comet-shoot {
  0% {
    transform: translate3d(0, 0, 0) scale(1);
    opacity: 0;
  }
  10% {
    opacity: 1;
  }
  90% {
    opacity: 0.8;
  }
  100% {
    transform: translate3d(var(--comet-distance), var(--comet-distance-y), 0)
      scale(0.5);
    opacity: 0;
  }
}

@keyframes comet-trail {
  0% {
    transform: translateY(-50%) rotate(calc(var(--comet-angle, 0deg) + 180deg))
      scaleX(0);
    opacity: 0;
  }
  20% {
    opacity: 0.8;
  }
  80% {
    opacity: 0.6;
  }
  100% {
    transform: translateY(-50%) rotate(calc(var(--comet-angle, 0deg) + 180deg))
      scaleX(1);
    opacity: 0;
  }
}

.starfield-container {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  z-index: 0;
  overflow: hidden;
  contain: layout style paint;
}

.star {
  position: absolute;
  background-color: #8bb5ff;
  border-radius: 50%;
  --star-opacity: 0.7;
  animation:
    twinkle 3s ease-in-out infinite,
    float 40s linear infinite;
  will-change: opacity, transform;
  box-shadow:
    0 0 6px rgba(139, 181, 255, 0.6),
    0 0 12px rgba(139, 181, 255, 0.3),
    0 0 18px rgba(139, 181, 255, 0.1);
  backface-visibility: hidden;
  transform-style: preserve-3d;
}

/* Different star types for variety */
.star:nth-child(3n) {
  background-color: #a78bfa;
  --star-opacity: 0.6;
  animation-duration: 4s, 45s;
  box-shadow:
    0 0 6px rgba(167, 139, 250, 0.6),
    0 0 12px rgba(167, 139, 250, 0.3),
    0 0 18px rgba(167, 139, 250, 0.1);
}

.star:nth-child(5n) {
  background-color: #6366f1;
  --star-opacity: 0.5;
  animation-duration: 5s, 50s;
  box-shadow:
    0 0 6px rgba(99, 102, 241, 0.6),
    0 0 12px rgba(99, 102, 241, 0.3),
    0 0 18px rgba(99, 102, 241, 0.1);
}

.star:nth-child(7n) {
  background-color: #c084fc;
  --star-opacity: 0.8;
  animation-duration: 2.5s, 35s;
  box-shadow:
    0 0 6px rgba(192, 132, 252, 0.6),
    0 0 12px rgba(192, 132, 252, 0.3),
    0 0 18px rgba(192, 132, 252, 0.1);
}

.star:nth-child(11n) {
  background-color: #4f46e5;
  --star-opacity: 0.7;
  animation-duration: 3.5s, 42s;
  box-shadow:
    0 0 6px rgba(79, 70, 229, 0.6),
    0 0 12px rgba(79, 70, 229, 0.3),
    0 0 18px rgba(79, 70, 229, 0.1);
}

/* Comet Styles */
.comet {
  position: absolute;
  border-radius: 50%;
  background: radial-gradient(
    circle,
    #ffffff 0%,
    #8bb5ff 50%,
    transparent 100%
  );
  animation: comet-shoot 2s ease-out forwards;
  will-change: transform, opacity;
  z-index: 1;
  --comet-distance: 200px;
  --comet-distance-y: 100px;
}

.comet::before {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  width: 60px;
  height: 2px;
  background: linear-gradient(
    90deg,
    rgba(255, 255, 255, 0.8) 0%,
    rgba(139, 181, 255, 0.6) 30%,
    transparent 100%
  );
  transform: translateY(-50%) rotate(calc(var(--comet-angle, 0deg) + 180deg))
    scaleX(0);
  transform-origin: left center;
  animation: comet-trail 2s ease-out forwards;
  border-radius: 1px;
}

.star.comet-hidden {
  opacity: 0 !important;
  animation: none !important;
}

.comet-inactive {
  opacity: 0 !important;
  animation: none !important;
  pointer-events: none;
}

.comet-inactive,
.comet-inactive::before {
  animation: none !important;
}

/* Responsive adjustments for mobile devices */
@media (max-width: 768px) {
  /* Hide every 3rd star on tablets - use opacity to maintain layout */
  .star:nth-child(3n + 1) {
    opacity: 0 !important;
    animation: none !important;
  }

  /* Reduce float distance for smaller screens */
  @keyframes float {
    0%,
    100% {
      transform: translate3d(0, 0, 0);
    }
    25% {
      transform: translate3d(4px, -6px, 0);
    }
    50% {
      transform: translate3d(-3px, -10px, 0);
    }
    75% {
      transform: translate3d(-5px, -4px, 0);
    }
  }
}

@media (max-width: 480px) {
  /* Hide even more stars on mobile phones - use opacity to maintain layout */
  .star:nth-child(2n) {
    opacity: 0 !important;
    animation: none !important;
  }

  /* Further reduce float distance */
  @keyframes float {
    0%,
    100% {
      transform: translate3d(0, 0, 0);
    }
    25% {
      transform: translate3d(2px, -3px, 0);
    }
    50% {
      transform: translate3d(-2px, -5px, 0);
    }
    75% {
      transform: translate3d(-3px, -2px, 0);
    }
  }

  /* Reduce glow intensity for performance */
  .star {
    box-shadow:
      0 0 3px rgba(139, 181, 255, 0.4),
      0 0 6px rgba(139, 181, 255, 0.2);
  }

  .star:nth-child(3n) {
    box-shadow:
      0 0 3px rgba(167, 139, 250, 0.4),
      0 0 6px rgba(167, 139, 250, 0.2);
  }

  .star:nth-child(5n) {
    box-shadow:
      0 0 3px rgba(99, 102, 241, 0.4),
      0 0 6px rgba(99, 102, 241, 0.2);
  }

  .star:nth-child(7n) {
    box-shadow:
      0 0 3px rgba(192, 132, 252, 0.4),
      0 0 6px rgba(192, 132, 252, 0.2);
  }

  .star:nth-child(11n) {
    box-shadow:
      0 0 3px rgba(79, 70, 229, 0.4),
      0 0 6px rgba(79, 70, 229, 0.2);
  }
}

/* Book cover fade animation */
@keyframes fadeIn {
  0% {
    opacity: 0;
    transform: scale(1.02);
  }
  100% {
    opacity: 1;
    transform: scale(1);
  }
}
